<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../assets/style.css?t=615badd5">
    <script src="../assets/script.js?t=42463e55"></script>
    <title>The Enforce Function - PASSABLE</title>
    <meta name="viewport" content="width=device-width">
  </head>
  <body class="-menu-visible">
    <div class="doc-layout">
      <div class="toggle menu-toggle js-menu-toggle"></div>
      <div class="menu toc-menu">
        <li class="menu-item -level-0 -parent">
          <ul class="submenu">
            <li class="menu-item -level-1 -parent"><a class="link title  link-index" href="../index.html">PASSABLE</a>
              <ul class="submenu">
                <li class="menu-item -level-2 -parent"><span class="title">Getting Started</span>
                  <ul class="submenu">
                    <li class="menu-item -level-3"><a class="link title  link-getting_startedinstallation" href="../getting_started/installation.html">Installation</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-getting_startedwriting_tests" href="../getting_started/writing_tests.html">Writing tests</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-getting_startedresponse" href="../getting_started/response.html">The response object</a>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-getting_startedparams" href="../getting_started/params.html">Passable params</a>
                    </li>
                    <li class="menu-item -level-3 -parent"><a class="link title  link-getting_startedpass" href="../getting_started/pass/index.html">The pass function</a>
                      <ul class="submenu">
                        <li class="menu-item -level-4"><a class="link title  link-getting_startedpasshow_to_fail" href="../getting_started/pass/how_to_fail.html">How to fail a pass</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-getting_startedpasswarn_only_passes" href="../getting_started/pass/warn_only_passes.html">Warn only passes</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-getting_startedpassspecific" href="../getting_started/pass/specific.html">Running a specific pass</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2 -parent"><a class="link title -active link-enforce" href="../enforce/index.html">The Enforce Function</a>
                  <ul class="submenu">
                    <li class="menu-item -level-3 -parent"><span class="title">Enforce Rules</span>
                      <ul class="submenu">
                        <li class="menu-item -level-4"><a class="link title  link-enforceruleslangis_array" href="../enforce/rules/lang/is_array/index.html">isArray</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforceruleslangis_string" href="../enforce/rules/lang/is_string/index.html">isString</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforceruleslangis_number" href="../enforce/rules/lang/is_number/index.html">isNumber</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulessizeis_empty" href="../enforce/rules/size/is_empty/index.html">isEmpty</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulescontentmatches" href="../enforce/rules/content/matches/index.html">matches</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulescontentinside" href="../enforce/rules/content/inside/index.html">inside</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulessizelarger_than" href="../enforce/rules/size/larger_than/index.html">largerThan</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulessizelarger_than_or_equals" href="../enforce/rules/size/larger_than_or_equals/index.html">largerThanOrEquals</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulessizesize_equals" href="../enforce/rules/size/size_equals/index.html">sizeEquals</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulessizesmaller_than" href="../enforce/rules/size/smaller_than/index.html">smallerThan</a>
                        </li>
                        <li class="menu-item -level-4"><a class="link title  link-enforcerulessizesmaller_than_or_equals" href="../enforce/rules/size/smaller_than_or_equals/index.html">smallerThanOrEquals</a>
                        </li>
                      </ul>
                    </li>
                    <li class="menu-item -level-3"><a class="link title  link-enforcerulescustom" href="../enforce/rules/custom.html">Custom Enforce Rules</a>
                    </li>
                  </ul>
                </li>
                <li class="menu-item -level-2"><a class="link title  link-compatabilityassertions" href="../compatability/assertions.html">Using with assertions libraries</a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </div>
      <div class="body page-enforce">
        <div class="header-nav">
          <div class="right">
          </div>
        </div>
        <div class="markdown-body"><h1 id="the-enforce-function">The <code>enforce</code> function</h1>
<p>The <code>enforce</code> function runs your data against different rules and condition. It is basically, the default assertion method for Passable tests. Its intended use is for validations logic that gets repeated over and over again and shouldn&apos;t be written manually. For each rule, you may also pass either value or an options object that may be used by the function of the rule.</p>
<p>The enforce function exposes the following functions:</p>
<ul>
<li><code>allOf</code>  | <code>AND</code> | makes sure all rules specified are true.</li>
<li><code>anyOf</code>  | <code>OR</code>  | makes sure at least one rule is true.</li>
<li><code>noneOf</code> | <code>NOT</code> | makes sure no rule is true.</li>
</ul>
<p>All of these functions are chainable. All functions other can be used more than once. All enforce chain-blocks are in an AND relationship, which means that if one block is false the others won&apos;t get evaluated.
All the following are valid uses of enforce.</p>
<pre><code class="lang-js">enforce([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]).anyOf({
        <span class="hljs-attr">largerThan</span>: <span class="hljs-number">5</span>, <span class="pl-c">// in anyOf - this one is enough to set the anyOf block to true</span>
        smallerThan: <span class="hljs-number">6</span>,
    }).noneOf({
        <span class="hljs-attr">isString</span>: <span class="pl-c1">true</span>, <span class="pl-c">// in noneOf, all must be false</span>
        isNumber: <span class="pl-c1">true</span>
    }).allOf({
        <span class="hljs-attr">isArray</span>: <span class="pl-c1">true</span>
    }); <span class="pl-c">// true</span>

    -------------

    enforce(<span class="pl-s">&apos;North Dakota, por favor&apos;</span>).noneOf({
        <span class="hljs-attr">largerThan</span>: <span class="hljs-number">5</span>,
        <span class="hljs-attr">smallerThan</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">matches</span>: <span class="hljs-regexp">/[0-9]/</span>
    }); <span class="pl-c">// false</span>

    -------------

    enforce(<span class="pl-s">&apos;I consider it asshole tax&apos;</span>).anyOf({
        <span class="hljs-attr">largerThan</span>: <span class="hljs-number">5</span>,
        <span class="hljs-attr">smallerThan</span>: <span class="hljs-number">2</span>
    }).anyOf({
        <span class="hljs-attr">smallerThan</span>: <span class="hljs-number">150</span>
    }); <span class="pl-c">// true</span>
</code></pre>
<p>When using enforce, you do not have to return the result (although you may), each of your enforce tests updates the result of the whole pass. You may also use multiple enforces in the same pass function, they will run in sequence.</p>
<pre><code class="lang-js">Passable(<span class="pl-s">&apos;enforcement&apos;</span>, (pass, enforce) =&gt; {
    pass(<span class="pl-s">&apos;test&apos;</span>, <span class="pl-s">&apos;multiple enforces&apos;</span>, () =&gt; {
        enforce(<span class="pl-s">&apos;str1&apos;</span>).allOf({...}).anyOf({...});
        enforce(<span class="pl-s">&apos;str2&apos;</span>).noneOf({...});
        enforce(<span class="pl-s">&apos;str3&apos;</span>).anyOf({...});
    });
});
</code></pre>

        </div>
        <div class="footer-nav">
          <div class="left"><a href="../getting_started/pass/specific.html"><span class="title">Running a specific pass</span></a></div>
          <div class="right"><a href="../enforce/rules/lang/is_array/index.html"><span class="label">Next: </span><span class="title">isArray</span></a></div>
        </div>
      </div>
    </div>
  </body>
</html>